(function(t){function a(a){for(var n,s,r=a[0],c=a[1],o=a[2],u=0,d=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&d.push(l[s][0]),l[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);f&&f(a);while(d.length)d.shift()();return i.push.apply(i,o||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],n=!0,r=1;r<e.length;r++){var c=e[r];0!==l[c]&&(n=!1)}n&&(i.splice(a--,1),t=s(s.s=e[0]))}return t}var n={},l={app:0},i=[];function s(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=n,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)s.d(e,n,function(a){return t[a]}.bind(null,n));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=a,r=r.slice();for(var o=0;o<r.length;o++)a(r[o]);var f=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var n=e("85ec"),l=e.n(n);l.a},"56d7":function(t,a,e){"use strict";e.r(a);var n={};e.r(n),e.d(n,"namespaced",(function(){return v})),e.d(n,"state",(function(){return p})),e.d(n,"mutations",(function(){return h})),e.d(n,"actions",(function(){return m}));e("4de4"),e("b680"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var l=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("nav",{staticClass:"navbar navbar-expand-md navbar-dark bg-dark fixed-top"},[e("div",{staticClass:"container-fluid"},[e("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("PiDNC")]),t._m(0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarsExampleDefault"}},[e("ul",{staticClass:"navbar-nav ml-auto mb-2 mb-md-0"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"https://github.com/hennedo/pidnc",target:"_blank"}},[e("svg",{staticClass:"bi bi-info-circle",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}}),e("path",{attrs:{d:"M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"}}),e("circle",{attrs:{cx:"8",cy:"4.5",r:"1"}})])])]),e("li",{staticClass:"nav-item"},[e("label",{staticClass:"nav-link"},[e("svg",{staticClass:"bi bi-upload",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}}),e("path",{attrs:{"fill-rule":"evenodd",d:"M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"}})]),e("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",name:"gcode"},on:{change:function(a){return t.uploadFile()}}})])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[e("svg",{staticClass:"bi bi-gear-fill",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 0 0-5.86 2.929 2.929 0 0 0 0 5.858z"}})])])])])])])]),e("Home")],1)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarsExampleDefault","aria-controls":"navbarsExampleDefault","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"container"},[e("ul",{staticClass:"nav nav-tabs"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:"uploaded"===t.filter},attrs:{href:"#"},on:{click:function(a){t.filter="uploaded"}}},[t._v("Uploaded")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:"machined"===t.filter},attrs:{href:"#"},on:{click:function(a){t.filter="machined"}}},[t._v("Machined")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:"locked"===t.filter},attrs:{href:"#"},on:{click:function(a){t.filter="locked"}}},[t._v("Locked")])])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-sm"},[t._m(0),e("tbody",t._l(t.filteredFiles,(function(a){return e("tr",{key:a.ID},[e("td",{staticClass:"text-center"},[e("img",{staticClass:"preview",attrs:{src:"/svg/"+a.ID+".svg"}})]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.name))]),e("td",{staticClass:"align-middle"},[t._v(t._s(t._f("prettyBytes")(a.size)))]),e("td",{staticClass:"align-middle"},[t._v(t._s(Math.round(a.size/115200*100)/100)+"s")]),e("td",{staticClass:"text-right align-middle"},[e("a",{staticClass:"btn btn-success btn-lg",attrs:{href:"#"},on:{click:function(e){return t.run(a.ID)}}},[e("svg",{staticClass:"bi bi-play-fill",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11.596 8.697l-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"}})])]),t._v(" "),"locked"!==a.type?e("a",{staticClass:"btn btn-primary btn-lg",attrs:{href:"#"},on:{click:function(e){return t.lock(a.ID)}}},[e("svg",{staticClass:"bi bi-shield-lock",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M5.443 1.991a60.17 60.17 0 0 0-2.725.802.454.454 0 0 0-.315.366C1.87 7.056 3.1 9.9 4.567 11.773c.736.94 1.533 1.636 2.197 2.093.333.228.626.394.857.5.116.053.21.089.282.11A.73.73 0 0 0 8 14.5c.007-.001.038-.005.097-.023.072-.022.166-.058.282-.111.23-.106.525-.272.857-.5a10.197 10.197 0 0 0 2.197-2.093C12.9 9.9 14.13 7.056 13.597 3.159a.454.454 0 0 0-.315-.366c-.626-.2-1.682-.526-2.725-.802C9.491 1.71 8.51 1.5 8 1.5c-.51 0-1.49.21-2.557.491zm-.256-.966C6.23.749 7.337.5 8 .5c.662 0 1.77.249 2.813.525a61.09 61.09 0 0 1 2.772.815c.528.168.926.623 1.003 1.184.573 4.197-.756 7.307-2.367 9.365a11.191 11.191 0 0 1-2.418 2.3 6.942 6.942 0 0 1-1.007.586c-.27.124-.558.225-.796.225s-.526-.101-.796-.225a6.908 6.908 0 0 1-1.007-.586 11.192 11.192 0 0 1-2.417-2.3C2.167 10.331.839 7.221 1.412 3.024A1.454 1.454 0 0 1 2.415 1.84a61.11 61.11 0 0 1 2.772-.815z"}}),e("path",{attrs:{d:"M9.5 6.5a1.5 1.5 0 0 1-1 1.415l.385 1.99a.5.5 0 0 1-.491.595h-.788a.5.5 0 0 1-.49-.595l.384-1.99a1.5 1.5 0 1 1 2-1.415z"}})])]):t._e(),t._v(" "),"locked"!==a.type?e("a",{staticClass:"btn btn-danger btn-lg",attrs:{href:"#"},on:{click:function(e){return t.remove(a.ID)}}},[e("svg",{staticClass:"bi bi-trash-fill",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"}})])]):t._e()])])})),0)])])])},c=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"col-md-2"}),e("th",{staticClass:"col-md-6"},[t._v(" Filename ")]),e("th",{staticClass:"col-md-1"},[t._v(" Filesize ")]),e("th",{staticClass:"col-md-1"},[t._v(" Sending time ")]),e("th",{staticClass:"col-md-2"})])])}],o=e("5530"),f=e("bc3a"),u=e.n(f),d=e("2f62"),v=(e("a434"),!0),p={files:[]},h={SET_FILES:function(t,a){t.files=a},ADD_FILE:function(t,a){t.files.push(a)},REMOVE_FILE:function(t,a){t.files.splice(a,1)}},m={getAll:function(t){var a=t.commit,e=t.state;return e.files.length>0?e.files:u.a.get("/api/files").then((function(t){return t?(a("SET_FILES",t.data),t.data):[]})).catch((function(){return[]}))},remove:function(t,a){var e=t.commit,n=t.state,l=a.id;u.a.get("/api/".concat(l,"/delete")).then((function(){for(var t=0;t<n.files.length;t++)if(n.files[t].ID===l){e("REMOVE_FILE",t);break}})).catch((function(t){console.log(t)}))},uploadFile:function(t,a){var e=t.commit,n=a.file,l=new FormData;l.append("gcode",n),u.a.post("/api/upload",l,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),e("ADD_FILE",t.data)})).catch((function(){console.log("FAILURE!!")}))}};l["a"].use(d["a"]);var g=new d["a"].Store({modules:{files:n},state:{},mutations:{},actions:{}}),b={name:"Home",data:function(){return{filter:"uploaded"}},mounted:function(){g.dispatch("files/getAll")},computed:Object(o["a"])({filteredFiles:function(){var t=this.filter;return this.files.filter((function(a){return a.type===t}))}},Object(d["b"])("files",["files"])),methods:{run:function(t){var a=this;u.a.get("/api/".concat(t,"/run")).then((function(e){null!=e.data&&console.log(e.data);for(var n=0;a.files.length<n;n++)if(a.files[n].ID===t){a.files[n].Type="machined";break}})).catch((function(t){console.log(t)}))},lock:function(t){var a=this;u.a.get("/api/".concat(t,"/lock")).then((function(e){null!=e.data&&console.log(e.data);for(var n=0;a.files.length<n;n++)if(a.files[n].ID===t){a.files[n].type="locked";break}})).catch((function(t){console.log(t)}))},remove:function(t){g.dispatch("files/remove",{id:t})}}},C=b,w=e("2877"),_=Object(w["a"])(C,r,c,!1,null,"0ca7f2d3",null),y=_.exports,k={name:"App",components:{Home:y},methods:{uploadFile:function(){var t=this.$refs.file.files[0];g.dispatch("files/uploadFile",{file:t})}}},x=k,M=(e("034f"),Object(w["a"])(x,i,s,!1,null,null,null)),E=M.exports;l["a"].config.productionTip=!1,l["a"].filter("prettyBytes",(function(t){if("number"!==typeof t||isNaN(t))throw new TypeError("Expected a number");var a,e,n=t<0,l=["B","kB","MB","GB","TB","PB","EB","ZB","YB"];return n&&(t=-t),t<1?(n?"-":"")+t+" B":(a=Math.min(Math.floor(Math.log(t)/Math.log(1e3)),l.length-1),t=1*(t/Math.pow(1e3,a)).toFixed(2),e=l[a],(n?"-":"")+t+" "+e)})),new l["a"]({render:function(t){return t(E)},store:g}).$mount("#app")},"85ec":function(t,a,e){}});
//# sourceMappingURL=app.94287f5e.js.map